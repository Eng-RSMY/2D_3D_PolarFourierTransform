close all

N = [ 15
17
19
21
23
25
27
29
31
33
35
37
39
41
43
45
47
49
51
53
55
57
59
61
63
65
67
69
71
73
75
77
79
81
83
85
87
89
91
93
95
97
99
101
103
105
107
109
111
113
115
117
119
121
123
125
127
129
131
133
135
137
139
141
143
145
147
149
151
153
155
157
159
161
163
165 ];


runningTimeTitanX = [0.396931
0.479262
0.549784
0.559797
0.683479
0.702123
0.787644
0.941403
1.0639
1.12869
1.25352
1.5025
1.71552
1.91691
2.2555
2.20171
2.845
2.92954
3.6015
4.16602
4.13045
4.99833
6.39836
6.75357
6.20943
8.18913
11.8193
10.4285
15.3595
15.1497
11.9871
14.8104
22.9977
16.8401
30.2384
22.9817
26.6326
38.4786
29.949
34.3019
36.4017
58.0859
41.9929
71.4398
75.947
49.8393
89.9788
95.5862
79.3706
116.455
89.2482
90.9233
99.9865
117.315
127.964
108.352
195.345
164.612
306.131
169.965
158.576
362.924
384.921
238.967
253.022
263.541
246.666
518.181
548.387
985.13
1074.63
1862.93
1798.84
1904.13
2476.52
2532.32
];

runningTimeNVIDIA760 = [0.384378
0.408074
0.446626
0.527066
0.554008
0.63226
0.703713
0.767014
0.924635
1.14533
1.30138
1.76174
2.03895
2.52279
3.12812
3.11146
4.23151
4.28661
5.70285
7.09439
7.64637
9.01036
11.2531
13.3142
12.1322
15.8922
22.2815
21.3963
28.821
31.6307
27.2652
33.5077
45.3341
37.2268
57.2164
51.9915
60.8789
80.8429
70.4852
81.8384
87.5752
126.374
103.732
151.468
169.279
126.311
188.906
211.467
195.653
264.293
213.802
218.229
241.301
285.962
308.356
266.528
450.029
405.755
];

% N = 15:2:133
runningTimeCPU = [0.248739473127039,0.326825571936393,0.454979088479397,0.519915063626036,0.722437173065047,0.756917868837172,1.09756480929198,1.45630838202718,1.84697024880927,2.13019569617388,2.49380865328165,4.63171354823726,4.09396636209921,7.45166333243599,8.17914231974480,8.62868282932786,12.3690779283313,13.1741222058590,20.7719251325921,28.8474831397016,25.9727622385620,31.5372272572918,44.5800537934278,55.9283471775752,53.2909798063507,61.8629915644257,76.7660082660769,78.7090043582530,100.314078957632,114.347137106967,110.589333922175,124.422616816839,154.773989305829,157.930772045951,209.566871705724,204.727585729610,233.931929496124,285.844964725188,274.817208207896,322.804263651138,351.399631152565,432.890720516398,414.141533253453,532.200253835538,578.712461459871,556.094962232580,700.367362720310,794.706336093971,864.564904011106,893.071470422119,910.547696213757,942.099267700894,1064.23761452071,1104.52849696869,1409.52578676994,1282.26389600015,1542.27520716511,1627.28755613501,1940.51077276148];
% N = 15:2:131
runningTimeGPU = [1.77484152477858,1.87565317681510,2.22561587565930,2.51100226812728,2.94477453518713,3.62275427291778,3.79098673770895,4.42257580213614,4.92487076161218,5.67831627993110,6.19970139618344,7.13151300657873,7.83095161245389,9.14916331528098,9.73244078485503,10.7719603623901,12.0057201370817,12.7934994338846,17.9375197243057,19.1828944689600,21.5726194081257,25.3032288186912,29.5418521127938,31.0036946725915,34.2541443685225,38.9303380788204,44.1016099133393,46.7522274058219,54.2323880002006,59.7916519709790,62.6519694061609,69.7016412322343,82.9726241587446,82.5636894175859,106.104455006214,104.582148797742,117.491267698695,141.045613019423,145.123935182937,159.762325989962,175.998666347759,211.685633112781,213.357490856965,254.054890215690,279.552057732483,277.742651683009,338.628772896517,364.104297238747,377.433281703050,409.143461106361,421.212051832331,450.971746467240,489.512692403438,530.630262596765,575.621719693691,600.993649166354,696.635742523640,711.188166482947];

figure, 
semilogy(N(1:60),runningTimeTitanX(1:60), 'r', 'LineWidth', 2.3)
hold on
semilogy(15:2:129,runningTimeNVIDIA760,'b','LineWidth', 2.3)
semilogy(15:2:131,runningTimeCPU,'g','LineWidth', 2.3)
semilogy(15:2:129,runningTimeGPU,'m','LineWidth', 2.3) 
hold off
xlabel('(N+1), is the number of samples for (N+1)^3 volume data')
ylabel('Average running time (seconds)')
legend('GTX TitanX w/ ArrayFire', 'GTX 760 w/ ArrayFire ', 'Xeon CPU(E5-1620) w/ MATLAB' , 'GTX TitanX w/ MATLAB(gpuArray)')
grid on
axis tight 
% print -dpdf VolumeRunningTime 